<html>
  <head>
    <title>从零认识Git - benarchen</title>
    <link href='/images/avatar.jpg' rel='shortcut icon'>

<link href='/atom.xml' rel='alternate' type='application/rss+xml'>

<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/highlight.css">
<link rel="stylesheet" href="/css/responsive.css">

<script src="/js/jquery.js"></script>
<script src="/js/basics.js"></script>

<meta content='width=device-width, initial-scale=1.0, user-scalable=no' name='viewport'>

<meta content='text/html; charset=utf-8' http-equiv='content-type'>



  </head>
  <body>
    <header>
  <a id='go-back-home' href='/'><img src='/images/avatar.jpg' alt='Home' width='66' height='66'></a>
  
  <p><font size ="4">benarchen</p></font>
  
  <p><font size ="4">做好该做的事！</font></p>
</header>

    <div id='container'>
      <div class='block'>

  
    <a class='main' href='/'>Blog</a>
  
    <a class='main' href='mailto:.yun@gmail.com'>Email</a>
  
    <a class='main' href='https://github.com/benarchen'>Github</a>
  
  
</div>

      <section class='paging'>


  
    <div class='left'>
      <a href='/2018/07/27/s测试/'>
        ‹
      </a>
    </div>
  
  
  
  
    <div class='right'>
      <a href='/2018/04/25/MySQL-基本命令/'>
        ›
      </a>
    </div>
  
</section>

      <div class='content'>
        <section class='post'>
          <h1>
            <div class='date'>2018-05-03</div>
            从零认识Git
          </h1>
          <h2 id="Git-是什么？"><a href="#Git-是什么？" class="headerlink" title="Git 是什么？"></a>Git 是什么？</h2><p>Git 是目前世界上最先进的分布式版本控制系统（没有之一）。</p>
<p>特点：高端大气上档次。</p>
<h2 id="安装-Git"><a href="#安装-Git" class="headerlink" title="安装 Git"></a>安装 Git</h2><p>Git 是一个版本控制系统，你也可以理解成是一个工具，跟 Java 类似，使用之前必须得先下载安装，所以第一步必须要安装，Mac 上其实系统自带 Git 的，Windows 一般情况下也是一直 next 就 OK 。</p>
<h2 id="Git-基本操作命令"><a href="#Git-基本操作命令" class="headerlink" title="Git 基本操作命令"></a>Git 基本操作命令</h2><h3 id="配置-Github-账户"><a href="#配置-Github-账户" class="headerlink" title="配置 Github 账户"></a>配置 Github 账户</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config —global user.name &quot;benarchen&quot;</span><br><span class="line">git config —global user.email &quot;benarchen.yun@gmail.com&quot;</span><br><span class="line">git config --list 			#查看 git 的配置信息。</span><br></pre></td></tr></table></figure>
<h3 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git status 		#查看仓库当前的状态。</span><br><span class="line">git init 		#初始化一个 repository 。</span><br><span class="line">git add 		#提交文件到 git 仓库中，其实是将文件变成了缓存状态。</span><br><span class="line">git commit -m &quot;第一次提交&quot; 	#真正提交文件到 git 仓库（需要登录 Github 账户）。</span><br><span class="line">git log 		#查看 git 的提交日志。</span><br><span class="line">git diff 		#可以查看修改的内容。</span><br></pre></td></tr></table></figure>
<h3 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">（git 最重要的功能）</span><br><span class="line">git reset --hard HEAD^ 			#回退到上一版本</span><br><span class="line">git reset --hard HEAD^ 			#回退到上上版本</span><br><span class="line">git reset --hard HEAD~100 		#回退到上 100 版本</span><br><span class="line">git reset --hard HEAD 具体版本号  	#回退到具体版本号</span><br><span class="line">git checkout -- fileName 		#相当于撤销。总之，就是让 fileName 这个文件回到最后一次 git commit 或者 git add 时的状态</span><br></pre></td></tr></table></figure>
<h3 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h3><p>你拥有了一个 GitHub 账号之后，就可以自由的 clone 或者下载其他项目，也可以创建自己的<br>项目，但是你没法提交代码。仔细想想也知道，肯定不可能随意就能提交代码的，如果随意<br>可以提交代码，那么 GitHub 上的项目岂不乱了套了，所以提交代码之前一定是需要某种授权<br>的，而 GitHub 上一般都是基于 SSH 授权的。</p>
<p>配置 SSH 秘钥，生成ssh密钥文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ls ~/.ssh 			#用此命令查看自己系统中是否存在 ssh 公钥。</span><br><span class="line">ssh-keygen -t rsa -C &quot;你的GitHub注册邮箱&quot;		#生成密钥文件</span><br><span class="line">rm -rf .ssh 			#删除当前目录的密钥</span><br></pre></td></tr></table></figure>
<p>然后直接三个回车即可，默认不需要设置密码，然后找到生成的.ssh的文件夹中的 id_rsa.pub 密钥，将内容全部复制。打开 <a href="https://link.zhihu.com/?target=https%3A//github.com/settings/keys" target="_blank" rel="noopener">GitHub_Settings_keys</a>  页面，新建 new SSH Key，Title为标题，任意填即可，将刚刚复制的 id_rsa.pub 内容粘贴进去，最后点击 Add SSH key。</p>
<p>在 Git Bash 中检测 GitHub 公钥设置是否成功，输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com  进行测试，可能会说安全性什么的，选择 yes 继续就可以了。</span><br><span class="line">					 注：成功以后可以在 github 上看到 ssh 的钥匙图标变成绿色。</span><br></pre></td></tr></table></figure>
<p>说明：GIT 服务器上存储的是公钥，你本地存储的是私钥，当你 push 本地代码库到远程代码库，服务器会要求你出示私钥，并且用你出示的私钥和它的公钥配对来完成认证。由于使用的是不对称加密，所以公钥可以公开，只要保管好私钥就可以。</p>
<p>这一步其实是把本机和 github 账户关联了。</p>
<p>关联远程仓库：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin 远程仓库地址	#关联 github 上的仓库</span><br><span class="line">git remote rm origin				#删除关联</span><br><span class="line">git pull origin master --allow-unrelated-histories  #第一次使用前需要拉取远程仓库</span><br><span class="line">git push origin master  			#把本地代码推送到远程 master 分支。</span><br></pre></td></tr></table></figure>
<p>注意：从零开发是先有远程库的，再有本地库。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git@github.com:benarchen/first.git 	#把 Github 上的项目 clone 到本地。</span><br></pre></td></tr></table></figure>
<h2 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h2><p>分支的作用是为了让团对协作开发，有了分支，每个开发人员都可以在项目库中拥有一个自己的开发进度线。等自己负责的部分开发完成后再同步到 master 分支上。Git 的分支是与众不同的，无论创建、切换和删除分支，Git 都能在非常短的时间内完成！</p>
<h3 id="创建分支"><a href="#创建分支" class="headerlink" title="创建分支"></a>创建分支</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git	branch    分支名		#创建分支</span><br><span class="line">git	checkout    分支名		#切换分支</span><br><span class="line">git checkout -b    分支名	 #创建并切换分支</span><br><span class="line">git branch			#显示所有分支，当前所处分支前会有 * 标记</span><br></pre></td></tr></table></figure>
<h3 id="推送至远程仓库"><a href="#推送至远程仓库" class="headerlink" title="推送至远程仓库"></a>推送至远程仓库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git push --set-upstream origin benar	#第一次从本地推送需要加说明，声明在远程创建一个分支并推送</span><br><span class="line">git push origin				#第一次之后不用声明，在分支上直接推送即可</span><br><span class="line">git merge benar		#把 benar 分支的内容合并到 master 分支上</span><br><span class="line">git push origin      #然后再把主分支推送至远程</span><br><span class="line">git log --graph		#查看分支合并图</span><br></pre></td></tr></table></figure>
<h3 id="删除分支"><a href="#删除分支" class="headerlink" title="删除分支"></a>删除分支</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git branch -d 分支名		#删除分支</span><br><span class="line">git push origin :分支名		#删除远程分支	</span><br><span class="line">git push origin --delete 分支名	#删除远程分支</span><br></pre></td></tr></table></figure>
<h3 id="下拉仓库"><a href="#下拉仓库" class="headerlink" title="下拉仓库"></a>下拉仓库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull origin master  	#把远程 master 代码下拉至本地。</span><br><span class="line">git clone git@github.com:benarchen/sddc.git		#克隆仓库到本地</span><br></pre></td></tr></table></figure>
<h3 id="分支使用策略"><a href="#分支使用策略" class="headerlink" title="分支使用策略"></a>分支使用策略</h3><p>master 分支应该是非常稳定的，依旧是用来发布新版本，平时不能在上面干活。可以创建一个 dev 分支作为开发分支，即副 master 分支。每个开发人员还是拥有自己的分支，各自的工作完成后时不时的同步到 dev 分支上，最终发布到 master 分支上去。</p>
<h3 id="标签管理"><a href="#标签管理" class="headerlink" title="标签管理"></a>标签管理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git tag  标签名			#打标签</span><br><span class="line">git tag						#查看所有标签</span><br><span class="line">git tag  标签名  commitID		#指定 commit id 打标签</span><br><span class="line">git tag -a 标签名 -m  &quot;标签信息&quot;	#注释标签信息</span><br><span class="line">git checkout 标签名				#切换到指定标签</span><br><span class="line">git show 标签名					#查看文字说明</span><br><span class="line">git tag -d 标签名					#删除标签</span><br><span class="line">git push origin 标签名				#推送标签到远程</span><br><span class="line">git push origin --tag			#一次性推送全部尚未推送到远程的本地标签</span><br><span class="line">git tag -d 标签名				#先删除本地标签</span><br><span class="line">git push origin :refs/tag/标签名	#再删除已经推送到远程的标签</span><br></pre></td></tr></table></figure>

          
		
        </section>
      </div>
	     	  
      <div class='block'>

  
    <a class='main' href='/'>Blog</a>
  
    <a class='main' href='mailto:.yun@gmail.com'>Email</a>
  
    <a class='main' href='https://github.com/benarchen'>Github</a>
  
  
</div>

    </div>
    <footer>
  <span class='muted'><font size = "4"> Powered by benarchen </font></span><br>
</footer>

  </body>
</html>
